0. 만 15세 컷(만나이 생일 지나야 함)

0-1. 성인기준은 20살되는 1월 1일(담배와 동일)

콘솔로그 안뜨게 하는 방법 알아오기

env키값 설정, 용도 등 분석

깃허브 비공개 설정 방법

디자인

약관뽑기

보안전검

개발자 페이지 메세지 안뜸

안쓰는 파일 함수 용도 확인 및 정리

에러페이지 만들기

이미지 폴더 경로 나중에 배포 할때 수정
============데이터 베이스 수정==================================
1. 마이페이지 서든어택, 배틀그라운드 닉네임 칸 없애기 ✅
1-1. 스키마에서도 없애기 ✅

16. 프로필 사진 없을때 노이미지나 대체이미지 넣기 ✅

13. 데이터 베이스 중복 데이터 확인해서 정리하기 ✅

14. 결제 관련 스키마 삭제, 플랜관련 데이터 삭제. ✅

12. 메세지 내역 타임스템프가 3번이나 찍힘

- db subreplies 에 업데이트 엣 삭제 -> 수정 기능 추가 삭제 불필요 ✅

- db subreplies 에 닉네임 삭제 유저 아이디만 적어놓고 닉네임은 redis서버에 담아놨다가 빼서 쓰기 ✅

- db reports 에 createAt updateAt reportsDate 동일한 데이터 3개 찍힘 분석후 삭제 ✅

- db friendrequests 업데이트 엣 하나 빼기 ✅

- db genderhistory에 시간 중복

- db 닉네임 히스토리 시간 중복

-

- db 채팅 메세지 시간 중복

- db reports backup
    - 기존의 신고 처리를 수정할 경우 어떤처분에서 어떻게 변경하는지와 수정하는 사유 카테고리 만들어서 적용하기 수정
    - updateAt 첫신고는 찍지말고 수정할 경우에만 찍기

- db QnAs 답변닉네임 질문 닉네임 삭제 ✅
- qnaRegdate는 답변한 시간인가? ㅇㅇ ✅

- db news에 닉네임 빼기 ✅

- db
- db 닉네임 히스토리 업데이트엣 크리에이트 엣 중복





혹시 모르니까 updateAt은 나두고 처음 생성할때 데이터 비우게 하기

==============================================================

================================기타 등등 ======================
10. 회원가입 페이지에 도메인으로 접근 불가 회원이 아닐때, 소셜로그인을 거친 후 가입이 되어있지 않을때에만 접근가능하게 하기✅
    뿐만아니라 URL로 접근 불가능하게 할 페이지 생각하기✅

9. 명예의 전당에 프로필 카드 공개 여부 설정가능하게 하기 ✅
9. 명예의 전당에 프로필 카드 공개 여부 설정가능하게 하기✅

6. 사진 업로드 할 시 webp로 변환 (webp : 적은용량 고화질) ✅
6. 사진 업로드 할 시 webp로 변환 (webp : 적은용량 고화질)✅
===============================================================



=====================친구 관련, 소캣=============================
2. 친구 슬라이드에서 새로고침안하면 프로필 모달에서 기존 친구도 친구 신청이라고 뜸✅
2-1 친구 요청이 있을시 프로필 모달에 친구 수락 버튼으로 바꾸기✅
2-2 친구 요청 목록에서 프로필 누르면 그 프로필 모달에서는 수락 거절 로 뜸✅
2-3 프로필 모달로직에서 어디서든 프로필 모달을 누르면 현재상태 부여하기 친구삭제 신구신청 수락 거절 등✅

3. 친구 삭제를 해도 채팅 목록은 거의 실시간으로 없어지지만 채팅방에 머물면 채팅방에서 안나가지고 머물러짐✅
    3-1 친구삭제가 되어도 채팅이 보내짐 A가 삭제된 친구 B에게 채팅방에 머물며 메세지를 보내면 상대방에게 메세지가 오고 알림을 누르면 채팅을 주고받을 수 있음✅
    3-2 이럴경우 한쪽에 친구가 되어있지 않아도 채팅방목록에 뜸✅


4. 친구채팅방 : 신고가 없고 채팅방을 사용하지 않은(친구 삭제, 또는 차단)기간이 한달 이상이라면 친구 채팅방 삭제  (무시가능할 수준의 데이터 비용)✅

5. 랜덤채팅중 다른 페이지 이동 후 다시 듀오찾기를 누른다면 기존 방으로 안들어가고 새로운 매칭을 잡을 수 있는 상황이 간헐적으로 생김 ✅

17. 메뉴 오른쪽상단 프로필 사진 (마이메뉴 나타나는 곳) 캐싱 여부 확인  ✅

11. lv3이라 개발자 페이지 들어가지는데 유저 채팅내역 볼 수 없음 권한 없다고 뜸    ✅

8. 소캣 안정성 올리기 ✅ (했지만 조금더 확인 소캣 이용자 인증으로 변경)

authenticate과 requireLevel을 적용해야하는 모든 라우터들 확인해가 ✅   (했지만 한번더 해야할 듯)


- db RoomEntry 시간만 4번 기록✅
2. '마지막 읽은 메시지 ID' 추적 방식 (가장 많이 쓰임)✅
각 유저가 해당 채팅방에서 **어디까지 읽었는지(Last Read Message ID)**만 기록하는 방식입니다.

구조: ChatRoomUser 테이블에 last_read_message_id 컬럼을 둡니다.

작동 원리: 1. 유저가 메시지를 읽으면 그 유저의 last_read_message_id를 현재 메시지 ID로 Update 합니다. 2. "안 읽은 숫자"를 계산할 때는 (전체 메시지 수) - (해당 유저의 마지막 읽은 ID 이후의 메시지 수)를 쿼리합니다.

장점: 데이터 생성/삭제가 없고 오직 Update만 발생하므로 훨씬 빠르고 깔끔합니다.


기존 DB에 있는 createdAt, updatedAt 필드 정리


7. 전적 계속 가져오면 네트워크 비용 많이 드니까 새로고침 버튼 도입 생각하기 ✅
 ---- 라이엇 api호출 제한이 있음 op.gg 처럼 db에 전적을 저장하고 새로고침하면 업데이트된 정보를 추가하거나 덮어씌우는 방식 전환 해야 할 수도 있음


- db uploads에 filename에 닉네임이 맨 앞에 찍히는데 이유 찾아보기 모든게 저렇게 찍힌다면 user따로 찍을 필요가 있나?
===========================================================================

유저 - 수정가능 -> 커뮤니티 글✅, 댓글✅, 대댓글✅, 대대댓글✅, qna✅,

관리자 - 베너, 뉴스, 신고제재(히스토리 남기기)

==============================출시이후======================================
1. 개발자가 유저한테 메세지 보낼 수 있게 구현
2. 보상 시스템 구현. 채팅 횟수 제공
3. 모니터링 페이지


=================gg 가능 도메인================================================
bh.gg   dd.gg           //       53달러   lcc.gg  cco.gg  rro.gg


유저가 삭제한 모든 데이터에 대해서 신고가 없다면 일정기간 후 삭제 신고가 있다면 일정기간 보관✅

프로필 신고 당하면 불건전한 사진 강제 내림 불건전한 닉네임 강제 변경✅

베너 뉴스

개발자 페이지 에러
- 유저 목록에서 유저 선택 시 404 에러
- 차단 목록 조회 실패 404 에러
- 채팅 목록 useChatConversation.js:73 TypeError: (activeRes.data || []).map is not a function
            at useChatConversation.js:27:64 에러

MyPageButton.jsx - 사용 안되고 있음, 불필요

================================================================

토큰 만료 로그아웃시 리다이렉트 페이지 설정해야하나? 로딩중만 뜸

  옵션

  1. 현재 유지 (문제없음)
  - AuthRequiredGuard가 적용된 페이지는 이미 보호됨
  - 공개 페이지는 로그인 없이도 사용 가능

  2. 토큰 만료 시 메인으로 강제 이동
  // axiosInstance.js 주석 해제
  window.location.href = '/';

  3. 토큰 만료 시 알림 표시 (UX 개선)
  // 토스트 메시지로 "세션이 만료되었습니다" 알림
===========================================================================